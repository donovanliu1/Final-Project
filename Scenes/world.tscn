[gd_scene load_steps=15 format=3 uid="uid://co8p3k1m6sie1"]

[ext_resource type="Script" path="res://Scripts/world.gd" id="1_625js"]
[ext_resource type="PackedScene" uid="uid://dgwt0evwfqu2" path="res://Scenes/player.tscn" id="1_afl3j"]
[ext_resource type="PackedScene" uid="uid://7bdmroqk35ft" path="res://Scenes/monster.tscn" id="2_1whuu"]
[ext_resource type="FontFile" uid="uid://bsk05luxqek5a" path="res://Assets/MinecraftBold-nMK1.otf" id="4_xd2na"]
[ext_resource type="Texture2D" uid="uid://bl2ujfpukxkv5" path="res://Assets/IMG_7827.jpg" id="5_ipctu"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_yth4w"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_mhsww"]
sky_material = SubResource("ProceduralSkyMaterial_yth4w")

[sub_resource type="Environment" id="Environment_6diyr"]
background_mode = 2
sky = SubResource("Sky_mhsww")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_lv8p0"]
vertices = PackedVector3Array(13.0928, -0.03771, -5.75, 15.0928, -0.03771, -5.75, 15.0928, -0.03771, -38.25, 12.3428, -0.03771, -5.25, 13.0928, -0.03771, -5.75, 15.0928, -0.03771, -38.25, 12.0928, -0.03771, -2.75, 12.3428, -0.03771, -5.25, 15.0928, -0.03771, -38.25, -30.9072, -0.03771, -38, -30.9072, -0.03771, -2.75, 15.0928, -0.03771, -5.75, 16.8428, -0.03771, -5.75, 16.8428, -0.03771, -38.25, 15.0928, -0.03771, -38.25, 19.8428, -0.03771, -4.75, 19.8428, -0.03771, -2.75, 43.8428, -0.03771, -2.75, 19.3428, -0.03771, -5.5, 19.8428, -0.03771, -4.75, 43.8428, -0.03771, -2.75, 43.8428, -0.03771, -38.25, 16.8428, -0.03771, -38.25, 16.8428, -0.03771, -38.25, 16.8428, -0.03771, -5.75, 19.3428, -0.03771, -5.5, 14.5928, 2.96229, -3.25, 14.5928, 2.96229, -0.5, 17.3428, 2.96229, -0.5, 17.3428, 2.96229, -3.25, 14.8428, -0.03771, -3, 14.8428, -0.03771, -0.75, 17.0928, -0.03771, -0.75, 17.0928, -0.03771, -3, -30.9072, -0.03771, -1, 12.0928, -0.03771, -1, 12.0928, -0.03771, -2.75, -30.9072, -0.03771, -2.75, 19.8428, -0.03771, -1, 43.8428, -0.03771, -1, 43.8428, -0.03771, -2.75, 19.8428, -0.03771, -2.75, 13.0928, -0.03771, 2.25, 15.8428, -0.03771, 2.25, 15.8428, -0.03771, 2, 12.5928, -0.03771, 1.75, 12.0928, -0.03771, 1, -30.9072, -0.03771, -1, -30.9072, -0.03771, 3.5, 12.0928, -0.03771, 3.5, 12.5928, -0.03771, 1.75, 12.0928, -0.03771, 3.5, 13.0928, -0.03771, 2.25, 12.5928, -0.03771, 1.75, 12.0928, -0.03771, 1, 12.0928, -0.03771, -1, -30.9072, -0.03771, -1, 15.8428, -0.03771, 2, 15.8428, -0.03771, 2.25, 18.8428, -0.03771, 2.25, 19.3428, -0.03771, 1.75, 19.8428, -0.03771, 3.5, 43.8428, -0.03771, 3.5, 43.8428, -0.03771, -1, 19.8428, -0.03771, 1, 19.3428, -0.03771, 1.75, 19.3428, -0.03771, 1.75, 18.8428, -0.03771, 2.25, 19.8428, -0.03771, 3.5, 43.8428, -0.03771, -1, 19.8428, -0.03771, -1, 19.8428, -0.03771, 1, 12.0928, -0.03771, 10.25, 12.5928, -0.03771, 9.5, 12.0928, -0.03771, 9, -30.9072, -0.03771, 3.5, 14.3428, -0.03771, 37.25, 14.5928, -0.03771, 17, 13.0928, -0.03771, 17, 14.3428, -0.03771, 37.25, 13.0928, -0.03771, 17, 12.0928, -0.03771, 16, -30.9072, -0.03771, 3.5, -30.9072, -0.03771, 37.25, 12.0928, -0.03771, 9, 12.0928, -0.03771, 3.5, -30.9072, -0.03771, 3.5, 12.0928, -0.03771, 16, 12.0928, -0.03771, 10.25, -30.9072, -0.03771, 3.5, 19.8428, -0.03771, 9, 19.3428, -0.03771, 9.5, 19.8428, -0.03771, 10.25, 43.8428, -0.03771, 15.75, 43.8428, -0.03771, 3.5, 43.8428, -0.03771, 3.5, 19.8428, -0.03771, 3.5, 19.8428, -0.03771, 9, 19.8428, -0.03771, 10.25, 19.8428, -0.03771, 15.75, 43.8428, -0.03771, 15.75, 14.5928, 1.71229, 4.75, 14.5928, 1.71229, 7.5, 17.3428, 1.71229, 7.5, 17.3428, 1.71229, 4.75, 14.8428, -0.03771, 5, 14.8428, -0.03771, 7.25, 17.0928, -0.03771, 7.25, 17.0928, -0.03771, 5, 14.5928, 0.96229, 11.75, 14.5928, 0.96229, 14.5, 17.3428, 0.96229, 14.5, 17.3428, 0.96229, 11.75, 18.8428, -0.03771, 17, 17.3428, -0.03771, 17, 17.5928, -0.03771, 37.25, 19.8428, -0.03771, 15.75, 18.8428, -0.03771, 17, 17.5928, -0.03771, 37.25, 43.8428, -0.03771, 37.25, 43.8428, -0.03771, 15.75, 14.3428, -0.03771, 37.25, 17.5928, -0.03771, 37.25, 17.3428, -0.03771, 17, 14.5928, -0.03771, 17)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 10), PackedInt32Array(8, 10, 9), PackedInt32Array(14, 13, 11), PackedInt32Array(11, 13, 12), PackedInt32Array(17, 16, 15), PackedInt32Array(19, 18, 20), PackedInt32Array(20, 18, 21), PackedInt32Array(21, 18, 22), PackedInt32Array(23, 25, 24), PackedInt32Array(29, 28, 26), PackedInt32Array(26, 28, 27), PackedInt32Array(33, 32, 30), PackedInt32Array(30, 32, 31), PackedInt32Array(37, 36, 34), PackedInt32Array(34, 36, 35), PackedInt32Array(41, 40, 38), PackedInt32Array(38, 40, 39), PackedInt32Array(43, 42, 44), PackedInt32Array(44, 42, 45), PackedInt32Array(50, 49, 46), PackedInt32Array(46, 49, 48), PackedInt32Array(46, 48, 47), PackedInt32Array(53, 52, 51), PackedInt32Array(56, 55, 54), PackedInt32Array(58, 57, 59), PackedInt32Array(59, 57, 60), PackedInt32Array(65, 64, 61), PackedInt32Array(61, 64, 62), PackedInt32Array(62, 64, 63), PackedInt32Array(68, 67, 66), PackedInt32Array(71, 70, 69), PackedInt32Array(73, 72, 74), PackedInt32Array(74, 72, 75), PackedInt32Array(78, 77, 76), PackedInt32Array(80, 79, 81), PackedInt32Array(81, 79, 83), PackedInt32Array(81, 83, 82), PackedInt32Array(86, 85, 84), PackedInt32Array(89, 88, 87), PackedInt32Array(91, 90, 92), PackedInt32Array(92, 90, 94), PackedInt32Array(92, 94, 93), PackedInt32Array(97, 96, 95), PackedInt32Array(100, 99, 98), PackedInt32Array(104, 103, 101), PackedInt32Array(101, 103, 102), PackedInt32Array(108, 107, 105), PackedInt32Array(105, 107, 106), PackedInt32Array(112, 111, 109), PackedInt32Array(109, 111, 110), PackedInt32Array(115, 114, 113), PackedInt32Array(117, 116, 118), PackedInt32Array(118, 116, 120), PackedInt32Array(118, 120, 119), PackedInt32Array(124, 123, 121), PackedInt32Array(121, 123, 122)]
agent_radius = 1.25
agent_max_climb = 0.1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_n3t2q"]
albedo_color = Color(1, 0, 0.733334, 1)

[sub_resource type="Gradient" id="Gradient_s8rpn"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_tcmko"]
gradient = SubResource("Gradient_s8rpn")
width = 32
height = 32
use_hdr = true
fill_from = Vector2(0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_kicxa"]
albedo_color = Color(0.882353, 0.980392, 0, 1)
albedo_texture = SubResource("GradientTexture2D_tcmko")

[sub_resource type="Theme" id="Theme_uet85"]
default_font = ExtResource("4_xd2na")
default_font_size = 20

[node name="World" type="Node3D"]
script = ExtResource("1_625js")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 7.79866, 0.0747514)
light_energy = 0.1
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_6diyr")

[node name="Player" parent="." instance=ExtResource("1_afl3j")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.02917, 1, 11)

[node name="Monster" parent="." node_paths=PackedStringArray("player") instance=ExtResource("2_1whuu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 1.5, 11)
player = NodePath("../Player")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_lv8p0")

[node name="TestMap" type="Node3D" parent="NavigationRegion3D"]

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/TestMap"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.6709, -0.4995, -0.5)
use_collision = true
collision_layer = 4
collision_mask = 3
size = Vector3(80, 0.001, 80)
material = SubResource("StandardMaterial3D_n3t2q")

[node name="CSGBox3D8" type="CSGBox3D" parent="NavigationRegion3D/TestMap"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.9699, -1.03771, 13.0024)
use_collision = true
collision_layer = 4
collision_mask = 3
size = Vector3(5, 3, 5)

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D/TestMap"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.59277, 4.53917, 39)
use_collision = true
collision_layer = 4
collision_mask = 3
size = Vector3(80, 10, 1)
material = SubResource("StandardMaterial3D_kicxa")

[node name="CSGBox3D3" type="CSGBox3D" parent="NavigationRegion3D/TestMap"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 45.5928, 4.53917, -0.999998)
use_collision = true
collision_layer = 4
collision_mask = 3
size = Vector3(80, 10, 1)
material = SubResource("StandardMaterial3D_kicxa")

[node name="CSGBox3D4" type="CSGBox3D" parent="NavigationRegion3D/TestMap"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 6.59277, 4.53917, -40)
use_collision = true
collision_layer = 4
collision_mask = 3
size = Vector3(80, 10, 1)
material = SubResource("StandardMaterial3D_kicxa")

[node name="CSGBox3D5" type="CSGBox3D" parent="NavigationRegion3D/TestMap"]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, -32.7994, 4.53917, -1)
use_collision = true
collision_layer = 4
collision_mask = 3
size = Vector3(80, 10, 1)
material = SubResource("StandardMaterial3D_kicxa")

[node name="CSGBox3D6" type="CSGBox3D" parent="NavigationRegion3D/TestMap"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.9742, -0.00492692, -1.99709)
use_collision = true
collision_layer = 4
collision_mask = 3
size = Vector3(5, 5, 5)

[node name="CSGBox3D7" type="CSGBox3D" parent="NavigationRegion3D/TestMap"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.9699, -0.037714, 6.00244)
use_collision = true
collision_layer = 4
collision_mask = 3
size = Vector3(5, 3, 5)

[node name="UserInterface" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(244, -479)
theme = SubResource("Theme_uet85")

[node name="GameOverScreen" type="Sprite2D" parent="UserInterface"]
position = Vector2(616, 364)
scale = Vector2(0.75, 0.3)
texture = ExtResource("5_ipctu")

[node name="DiedText" type="Label" parent="UserInterface"]
texture_filter = 1
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 300.0
offset_top = -160.0
offset_right = 436.0
offset_bottom = -140.0
grow_vertical = 2
scale = Vector2(5, 5)
theme_override_fonts/font = ExtResource("4_xd2na")
theme_override_font_sizes/font_size = 20
text = "you died lol"
horizontal_alignment = 1
vertical_alignment = 1

[node name="RetryText" type="Label" parent="UserInterface"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -246.0
offset_top = -30.0
offset_right = 4.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(2, 2)
text = "press enter to retry"

[connection signal="hit" from="Player" to="." method="_on_player_hit"]
